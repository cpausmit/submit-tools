<!DOCTYPE html>
<html>
  <head>
    <title>SubMIT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="css/common.css" rel="stylesheet">
  </head>
  <body>
    
    <h1>Requirements string generator</h1>
    Use
    <pre>
reqgen.py {user}
    </pre>
    to print out a user-customized requirements string that can be pasted into a condor job description. There are many options to the script to fine-tune the execution targets. See the help menu (-h option) of the script for details.

    <h1>Examples for writing the requirements by hand</h1>
    <ul>
      <li>Example 1: Run only on MIT Campus Factory (CMS HEP user)
        <pre>
requirements = GLIDEIN_Site == "MIT_CampusFactory" && (BOSCOGroup == "paus" || BOSCOGroup == "bosco_cms") && HAS_CVMFS_cms_cern_ch
        </pre>
        For other users, "bosco_cms" should be replaced by "bosco_cmshi" (CMS HI) or "bosco_lns" (other LNS). HAS_CVMFS_cms_cern_ch is only necessary if you need CMS CVMFS.
      </li>
      <li>Example 2: Running on a specific MIT resource, e.g. T2_US_MIT
        <pre>
requirements = GLIDEIN_Site == "MIT_CampusFactory" && BOSCOCluster == "ce03.cmsaf.mit.edu" && (BOSCOGroup == "paus" || BOSCOGroup == "bosco_cms") && HAS_CVMFS_cms_cern_ch
        </pre>
      </li>
      <li>Example 3: Enabling OSG
        <pre>
+ProjectName = MyProject
requirements = \
  (OSGVO_OS_STRING == "RHEL 6" && HAS_CVMFS_cms_cern_ch) || \
  (GLIDEIN_Site == "MIT_CampusFactory" && (BOSCOGroup == "paus" || BOSCOGroup == "bosco_cms") && HAS_CVMFS_cms_cern_ch)
        </pre>
      </li>
      <li>Example 4: Adding US CMS
        <pre>
+ProjectName = MyProject
+DESIRED_Sites = "site1,site2,..."
requirements = \
  (OSGVO_OS_STRING == "RHEL 6" && HAS_CVMFS_cms_cern_ch) || \
  GLIDEIN_REQUIRED_OS == "rhel6" || \
  (GLIDEIN_Site == "MIT_CampusFactory" && (BOSCOGroup == "paus" || BOSCOGroup == "bosco_cms") && HAS_CVMFS_cms_cern_ch)
        </pre>
      </li>
      <li>Example 5: Avoiding certain sites
        <pre>
+ProjectName = MyProject
+DESIRED_Sites = "site1,site2,..."
requirements = ( \
  (OSGVO_OS_STRING == "RHEL 6" && HAS_CVMFS_cms_cern_ch) || \
  GLIDEIN_REQUIRED_OS == "rhel6" || \
  (GLIDEIN_Site == "MIT_CampusFactory" && (BOSCOGroup == "paus" || BOSCOGroup == "bosco_cms") && HAS_CVMFS_cms_cern_ch) \
) && ( \
  isUndefined(GLIDEIN_Entry_Name) || \
  !stringListMember(GLIDEIN_Entry_Name, "CMS_T2_US_Nebraska_Red_op,CMS_T2_US_Nebraska_Red_gw1_op,CMS_T2_US_Nebraska_Red_gw2_op,CMS_T3_MX_Cinvestav_proton_work,CMS_T3_US_Omaha_tusker,CMSHTPC_T3_US_Omaha_tusker,Glow_US_Syracuse_condor,Glow_US_Syracuse_condor-ce01,Gluex_US_NUMEP_grid1,HCC_US_BNL_gk01,HCC_US_BNL_gk02,HCC_US_BU_atlas-net2,OSG_US_FIU_HPCOSGCE,OSG_US_Hyak_osg,OSG_US_UConn_gluskap,OSG_US_SMU_mfosgce", ",") \
)                               
        </pre>
      </li>
    </ul>


  </body>
  <footer>
  </footer>
</html>
